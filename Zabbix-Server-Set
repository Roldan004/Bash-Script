# update OS
sudo apt update && sudo apt upgrade -y

# Install Apache
sudo apt install apache2 -y


#install mariaDB-server
sudo apt install mariadb-server mariadb-client -y


# Add repository

sudo wget https://repo.zabbix.com/zabbix/5.2/ubuntu/pool/main/z/zabbix-release/zabbix-release_5.2-1+ubuntu$(lsb_release -rs)_all.deb

sudo dpkg -i zabbix-release_5.2-1+ubuntu$(lsb_release -rs)_all.deb

sudo apt update


# Install Zabbix Server
$ sudo apt install -y zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-agent

    
# Create MariaDB user and Install the zabbix database on MariaDB Server, UTF-8 Charset is required and table collate should be utf8_bin.

CREATE DATABASE zabbix CHARACTER SET utf8 COLLATE utf8_bin;
create user 'zabbix'@'%' identified BY 'administrator';
GRANT ALL ON zabbix.* TO 'zabbix'@'%';
FLUSH PRIVILEGES;

# Go to
cd /usr/share/doc/zabbix-server-mysql

# create sql
zcat create.sql | mysql -u zabbixuser -p zabbix
enter password : admin

# config zabbix server
sudo nano /etc/zabbix/zabbix_server.conf
    Edit the:
      DBname:
      DBUser:
      DBPassword:
      DBHost
      

# Change the time zone
sudo /etc/zabbix/apache.conf
# or
sudo nano /etc/php/7.2/apache2/php.ini
    php_value date.timezone Asia/Manila
    
  
sudo systemctl enable zabbix-agent
sudo systemctl restart zabbix






